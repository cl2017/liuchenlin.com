function getCurrentShowTimeSeconds(){var a=new Date,b=3600*a.getHours()+60*a.getMinutes()+a.getSeconds();return b}function update(){var a=getCurrentShowTimeSeconds(),b=parseInt(a/3600),c=parseInt((a-3600*b)/60),d=a%60,e=parseInt(curShowTimeSeconds/3600),f=parseInt((curShowTimeSeconds-3600*e)/60),g=curShowTimeSeconds%60;d!=g&&(parseInt(e/10)!=parseInt(b/10)&&addBalls(MARGIN_LEFT+0,MARGIN_TOP,parseInt(e/10)),parseInt(e%10)!=parseInt(b%10)&&addBalls(MARGIN_LEFT+15*(RADIUS+1),MARGIN_TOP,parseInt(e/10)),parseInt(f/10)!=parseInt(c/10)&&addBalls(MARGIN_LEFT+39*(RADIUS+1),MARGIN_TOP,parseInt(f/10)),parseInt(f%10)!=parseInt(c%10)&&addBalls(MARGIN_LEFT+54*(RADIUS+1),MARGIN_TOP,parseInt(f%10)),parseInt(g/10)!=parseInt(d/10)&&addBalls(MARGIN_LEFT+78*(RADIUS+1),MARGIN_TOP,parseInt(g/10)),parseInt(g%10)!=parseInt(d%10)&&addBalls(MARGIN_LEFT+93*(RADIUS+1),MARGIN_TOP,parseInt(d%10)),curShowTimeSeconds=a),updateBalls()}function updateBalls(){var a,c;for(a=0;a<balls.length;a++)balls[a].x+=balls[a].vx,balls[a].y+=balls[a].vy,balls[a].vy+=balls[a].g,balls[a].y>=WINDOW_HEIGHT-RADIUS&&balls[a].out<=1&&(balls[a].y=WINDOW_HEIGHT-RADIUS,balls[a].vy=.6*-balls[a].vy,balls[a].out++);for(c=0,a=0;a<balls.length;a++)balls[a].y-RADIUS<WINDOW_HEIGHT&&balls[a].x-RADIUS<WINDOW_WIDTH&&(balls[c++]=balls[a]);for(;balls.length>c;)balls.pop()}function addBalls(a,b,c){var d,e,f;for(d=0;d<digit[c].length;d++)for(e=0;e<digit[c][d].length;e++)1==digit[c][d][e]&&(f={x:a+2*e*(RADIUS+1)+(RADIUS+1),y:b+2*d*(RADIUS+1)+(RADIUS+1),g:1.5+Math.random(),vx:4*Math.pow(-1,Math.ceil(1e3*Math.random())),vy:-5,color:colors[Math.floor(Math.random()*colors.length)],out:0},balls.push(f))}function render(a){var b,c,d,e;for(a.clearRect(0,0,WINDOW_WIDTH,WINDOW_HEIGHT),b=parseInt(curShowTimeSeconds/3600),c=parseInt((curShowTimeSeconds-3600*b)/60),d=curShowTimeSeconds%60,renderDigit(MARGIN_LEFT,MARGIN_TOP,parseInt(b/10),a),renderDigit(MARGIN_LEFT+15*(RADIUS+1),MARGIN_TOP,parseInt(b%10),a),renderDigit(MARGIN_LEFT+30*(RADIUS+1),MARGIN_TOP,10,a),renderDigit(MARGIN_LEFT+39*(RADIUS+1),MARGIN_TOP,parseInt(c/10),a),renderDigit(MARGIN_LEFT+54*(RADIUS+1),MARGIN_TOP,parseInt(c%10),a),renderDigit(MARGIN_LEFT+69*(RADIUS+1),MARGIN_TOP,10,a),renderDigit(MARGIN_LEFT+78*(RADIUS+1),MARGIN_TOP,parseInt(d/10),a),renderDigit(MARGIN_LEFT+93*(RADIUS+1),MARGIN_TOP,parseInt(d%10),a),e=0;e<balls.length;e++)a.fillStyle=balls[e].color,a.beginPath(),a.arc(balls[e].x,balls[e].y,RADIUS,0,2*Math.PI,!0),a.closePath(),a.fill()}function renderDigit(a,b,c,d){var e,f;for(d.fillStyle="rgb(255,255,255)",e=0;e<digit[c].length;e++)for(f=0;f<digit[c][e].length;f++)1==digit[c][e][f]&&(d.beginPath(),d.arc(a+2*f*(RADIUS+1)+(RADIUS+1),b+2*e*(RADIUS+1)+(RADIUS+1),RADIUS,0,2*Math.PI),d.closePath(),d.fill())}var balls,WINDOW_WIDTH=document.body.clientWidth,WINDOW_HEIGHT=250,MARGIN_LEFT=Math.round(WINDOW_WIDTH/10),RADIUS=4*WINDOW_WIDTH/5/108-1,MARGIN_TOP=Math.round(WINDOW_HEIGHT/5);console.log(RADIUS),balls=[];const colors=["#33B5E5","#0099CC","#AA66CC","#9933CC","#99CC00","#669900","#FFBB33","#FF8800","#FF4444","#CC0000"];window.onload=function(){var a=document.getElementById("clock"),b=a.getContext("2d");RADIUS>5&&(RADIUS=5,MARGIN_LEFT=(WINDOW_WIDTH-108*(RADIUS+1))/2),a.width=WINDOW_WIDTH,a.height=WINDOW_HEIGHT,curShowTimeSeconds=getCurrentShowTimeSeconds(),setInterval(function(){render(b),update()},40)};